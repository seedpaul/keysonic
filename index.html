<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Keysonic</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Title pill -->
    <div id="word-music-title">
      <div class="keysonic-title-text">Keysonic</div>
      <div id="word-music-subtitle">Every sentence is a song.</div>
    </div>

    <!-- Typed / Now Playing / Save Typed -->
    <div id="word-display-container">
      <fieldset id="typed-fieldset" class="word-block">
        <legend>Spell a Song</legend>
        <div id="typed-text"></div>
        <button id="typed-backspace-btn" class="typed-backspace-btn" type="button" title="Backspace" aria-label="Backspace Spell a Song" > ⌫ </button>
      </fieldset>

      <fieldset id="now-playing-fieldset" class="word-block">
        <legend>Now Playing</legend>
        <div id="now-playing"></div>
      </fieldset>
    </div>

    <!-- Keyboard -->
    <div id="word-music">
      <div class="keyboard-wrapper">
        <div id="keyboard-main" class="keyboard">
          <div id="keyboard-main-rows" class="keyboard-main-rows"></div>
        </div>
        <div id="keyboard-numpad" class="keyboard"></div>
      </div>
    </div>

    <!-- Controls -->
    <div id="wm-controls">
      <div id="action-menu">
        <button id="action-menu-toggle" aria-label="Open menu">☰</button>
        <div id="action-menu-list" hidden>
        <button type="button" id="menu-import">Import Songs</button>
        <button type="button" id="menu-export">Export Songs</button>
        <div class="menu-theme-row">
          <label for="theme-select">Theme</label>
          <select id="theme-select"></select>
        </div>
      </div>
    </div>
      <button data-action="record" id="record-btn">Record</button>
      <button data-action="stop" id="stop-btn">Stop</button>
      <button data-action="clear" id="clear-btn">Clear</button>
      <button id="save-typed-btn" class="save-typed-btn">Save Word Song</button>
      <label id="tempo-label" class="tempo-label">
        Tempo
        <input
          id="tempo-slider"
          type="range"
          min="0.1"
          max="3"
          step="0.05"
          value="1"
        />
        <span id="tempo-value">1.0x</span>
      </label>
      <label id="volume-label" class="volume-label">
        Volume
        <input
          id="volume-slider"
          type="range"
          min="0"
          max="1.5"
          step="0.01"
          value="0.8"
        />
        <span id="volume-value">80%</span>
      </label>
      <label id="scale-label" class="scale-label">
        Scale
        <select id="scale-select"></select>
      </label>
      <label id="instrument-label" class="scale-label">
        Instrument
        <select id="instrument-select"></select>
      </label>
    </div>

    <!-- Saved recordings grid -->
    <div id="wm-saved-grid"></div>
    <input type="file" id="import-file-input" accept="application/json" hidden />

    <div id="export-modal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Select songs to export</h3>
          <button type="button" id="export-modal-close" aria-label="Close">✕</button>
        </div>
        <div class="export-select-all">
          <label>
            <input type="checkbox" id="export-select-all-toggle" />
            Select all songs
          </label>
        </div>
        <div id="export-list"></div>
        <div class="modal-actions">
          <button type="button" id="export-modal-export">Export Selected</button>
        </div>
      </div>
    </div>

    <script type="module" src="keysonic.js"></script>
  </body>
</html>
